<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PageLines Documentation</title>
    <meta name="description" content="A powerful front-end drag and drop design management system for fast and easy web development.">

    <base href="http://docs.pagelines.com/">

    <!-- styles -->
    <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
    <link href="/css/docs.css" rel="stylesheet">
    <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
    <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome-ie7.min.css" rel="stylesheet">
    <link href="/js/google-code-prettify/prettify.css" rel="stylesheet">
    <link rel='stylesheet' id='master_font_import' type='text/css' href='//fonts.googleapis.com/css?family=Open+Sans:400,300,600,800|Source+Sans+Pro:400,600' media='screen'>
    <link rel="shortcut icon" href="http://docs.pagelines.com/img/favicon.png" type="image/x-icon" />

    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

</head>
<body>
    <div id="wrap">
        <div class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                        <a class="brand" href="http://docs.pagelines.com/"><img src="http://docs.pagelines.com/img/logo.png" /></a> 
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right nav-detect">
                            <li><a href="/developer"><i class="icon-code"></i> Developer Docs</a></li>
                            <li><a href="http://www.pagelines.com"><i class="icon-home"></i> Home</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container section">
            <section>
                <div class="row-fluid">
                    <div class="span3 docs-nav nav-detect">
                        <ul class="nav nav-list active-menu">
                            <li><p class="lead"><a href="/getting-started/system-requirements">Getting Started</a></p></li>
                            <li><a href="/getting-started/system-requirements">Requirements <i class="icon-angle-right"></i></a></li>
                            <li><a href="/getting-started/installation">Installation <i class="icon-angle-right"></i></a></li>
                            <li><a href="/getting-started/upgrading-migration">Upgrading & Migration <i class="icon-angle-right"></i></a></li>
                            <li><a href="/getting-started/dashboard-account">Dashboard & Your Account <i class="icon-angle-right"></i></a></li>
                        </ul>
                        <ul class="nav nav-list">
                            <li><p class="lead"><a href="/configure/visual-editor-overview">Configure</a></p></li>
                            <li><a href="/configure/visual-editor-overview">Visual Editor Overview <i class="icon-angle-right"></i></a></li>
                            <li><a href="/configure/configuring-sections">Sections Overview <i class="icon-angle-right"></i></a></li>
                            <li><a href="/configure/using-templates">Using Templates <i class="icon-angle-right"></i></a></li>
                            <li><a href="/configure/global-options">Using Global Options <i class="icon-angle-right"></i></a></li>
                            <li><a href="/configure/pagelines-store">PageLines Store <i class="icon-angle-right"></i></a></li>
                        </ul>
                        <ul class="nav nav-list">
                            <li><p class="lead"><a href="/customize/how-to-customize">Customize</a></p></li>
                            <li><a href="/customize/how-to-customize">How to Customize <i class="icon-angle-right"></i></a></li>
                            <li><a href="/customize/dms-customize-options">DMS Customize Options <i class="icon-angle-right"></i></a></li>
                            <li><a href="/customize/pagelines-customize-plugin">PageLines Customize Plugin <i class="icon-angle-right"></i></a></li>
                            <li><a href="/customize/base-child-theme">The Base Child Theme  <i class="icon-angle-right"></i></a></li>
                            <li><a href="/customize/store-child-themes">Store Child Themes <i class="icon-angle-right"></i></a></li>
                            <li><a href="/customize/overriding-default-css">Overriding Default CSS <i class="icon-angle-right"></i></a></li>
                            <li><a href="/customize/adding-less-css-support">Adding LESS CSS Support <i class="icon-angle-right"></i></a></li>
                            <li><a href="/customize/adding-custom-rtl-support">Adding Custom RTL Support <i class="icon-angle-right"></i></a></li>
                            <li><a href="/customize/adding-custom-scripts">Adding Custom Scripts <i class="icon-angle-right"></i></a></li>
                        </ul>
                        <ul class="nav nav-list">
                            <li><p class="lead"><a href="/advanced/hooks">Advanced</a></p></li>
                            <li><a href="/advanced/hooks">Hooks <i class="icon-angle-right"></i></a></li>
                            <li><a href="/advanced/less-css">LESS CSS <i class="icon-angle-right"></i></a></li>
                            <li><a href="/advanced/override-sections">Overriding Sections <i class="icon-angle-right"></i></a></li>
                            <li><a href="/advanced/custom-sidebars">Creating Custom Sidebars <i class="icon-angle-right"></i></a></li>
                            <li><a href="/advanced/translating-dms">Translating DMS <i class="icon-angle-right"></i></a></li>
                            <li><a href="/advanced/optimize-load-time">Optimize Load Time <i class="icon-angle-right"></i></a></li>
                        </ul>
                        <ul class="nav nav-list">
                            <li><p class="lead"><a href="/tutorials/using-sections">Tutorials</a></p></li>
                            <li><a href="/tutorials/using-sections">Using Sections <i class="icon-angle-right"></i></a></li>
                            <li><a href="/tutorials/using-scrollspy">Using ScrollSpy <i class="icon-angle-right"></i></a></li>
                            <li><a href="/tutorials/using-plugins">Using Plugins <i class="icon-angle-right"></i></a></li>
                            <li><a href="/tutorials/browser-specific-css">Browser Specific CSS <i class="icon-angle-right"></i></a></li>
                            <li><a href="/tutorials/responsive-grid">The Responsive Grid <i class="icon-angle-right"></i></a></li>
                            <li><a href="/tutorials/font-awesome">Font Awesome <i class="icon-angle-right"></i></a></li>
                            <li><a href="/tutorials/shortcodes">Shortcodes <i class="icon-angle-right"></i></a></li>
                            <li><a href="/tutorials/typography">Typography <i class="icon-angle-right"></i></a></li>
                            <li><a href="/tutorials/html-css-utilities">HTML/CSS Utilities <i class="icon-angle-right"></i></a></li>
                            <li><a href="/tutorials/adding-custom-menus">Adding Custom Menus <i class="icon-angle-right"></i></a></li>
                            <li><a href="/tutorials/adding-custom-fonts">Adding Custom Fonts <i class="icon-angle-right"></i></a></li>
                            <li><a href="/tutorials/section-area-styling">Section Area Styling <i class="icon-angle-right"></i></a></li>
                            <li><a href="/tutorials/creating-a-branding-area">Creating a Branding Area <i class="icon-angle-right"></i></a></li>
                            <li><a href="/tutorials/lockdown-visual-editor">Lockdown Visual Editor <i class="icon-angle-right"></i></a></li>
                        </ul>
                        <ul class="nav nav-list">
                            <li><p class="lead"><a href="/support-troubleshooting/getting-support">Support + Troubleshooting</a></p></li>
                            <li><a href="/support-troubleshooting/getting-support">Getting Support <i class="icon-angle-right"></i></a></li>
                            <li><a href="/support-troubleshooting/diagnosing">Diagnosing <i class="icon-angle-right"></i></a></li>
                            <li><a href="/support-troubleshooting/memory-allocation-error">Memory Allocation Error <i class="icon-angle-right"></i></a></li>
                            <li><a href="/support-troubleshooting/white-screen-of-death">White Screen of Death <i class="icon-angle-right"></i></a></li>
                            <li><a href="/support-troubleshooting/parse-error">Parse Error <i class="icon-angle-right"></i></a></li>
                            <li><a href="/support-troubleshooting/internal-server-error">Internal Server Error <i class="icon-angle-right"></i></a></li>
                        </ul>
		<ul class="nav nav-list">
                            <li><p class="lead"><a href="/developer/section-api">Development</a></p></li>
                            <li><a href="/developer/section-api">Building Sections <i class="icon-angle-right"></i></a></li>
                            <li><a href="/developer/dms-theming">DMS Theming <i class="icon-angle-right"></i></a></li>
                            <li><a href="/developer/dms-option-engine">DMS Option Engine <i class="icon-angle-right"></i></a></li>
                            <li><a href="/developer/dms-conditionals">DMS Conditional Statements <i class="icon-angle-right"></i></a></li>
                         
                        </ul>
                    </div>
                    <div class="span9 docs-content">
<h1>Building Drag + Drop Sections</h1>

<p>PageLines Section system allows developers to use their imagination to create their own unique sections for extra functionality as well as offering these sections to other PageLines users via the <a href="http://www.pagelines.com/store">PageLines Store</a>.</p>

<p>Using this &#39;API&#39;, you can define what kind of content the sections load on the page, and use the option engine to add options directed at that particular sections.</p>

<h2>Setting Up &amp; File Structure</h2>

<p>The first part of section development, is setting up your section folder. </p>

<p>Sections are supported in a variety of areas; specifically, they are supported in your plugins folder (with a special wrapper) and in your child theme &#39;sections&#39; folder (child_theme_root/sections/sectionFolder/). </p>

<p>The folder name you choose for your section will become your global &#39;section ID&#39;.  Inside this folder you&#39;ll have your master &#39;section.php&#39; file where you&#39;ll write most or all of the code for the section.</p>

<p>So to set up your basic section, you would have something like this (child_theme_root)/sections/sectionID/section.php</p>

<h2>Section Headers</h2>

<p>Once you open up a section.php file, the first thing you&#39;ll see is the section headers. These are the basic information that you use to set up your section and how it works in DMS. </p>

<p>Here is how the headers work and look in a section.php file:</p>

<pre><code class="php">/*
    Section: Your Section Name
    Author: Your Name
    Author URI: http://www.yourwebsite.com
    Description: A short section description.
    Class Name: YourSectionClassName
    Filter: component
    Loading: active
*/
</code></pre>

<h4>Class Name Header</h4>

<p>This header must have the same value of your master section class (PHP class). We&#39;ll discuss this below. </p>

<h4>Filter Header</h4>

<p>This header determines where your section will appear in the sections panel and can steer the behavior of the section as well. 
A &#39;Filter: full-width&#39; statement will make your section full width and it won&#39;t be usable inside section areas. An example of this is the RevSlider section. </p>

<h4>Loading Header</h4>

<p>This header determines if the section is actively loaded when a user drags it on to the page. This means it appears instantly without page refresh. Any other value here will require a page refresh on load of your section. </p>

<p>Currently sections with a lot of javascript will require reloads but simpler sections may not. </p>

<h2>Your Section Class</h2>

<p>The basic wrapper for a DMS section is a PHP class that extends a base &#39;PageLinesSection&#39; class. </p>

<p>This gives your section a lot of prebuilt functionality and gets you off to a strong start. </p>

<p>After you create this class, your functions and properties will all be added to the class to steer its functionality. </p>

<p>A section wrapper looks like this: </p>

<pre><code class="php">
class YourSectionClassName extends PageLinesSection {

    // Your Methods will go here. 
    // Note: the Class Name header and the section class name need to be the same.

}

</code></pre>

<p>Now your section is started! We&#39;re going to build on this in the next few paragraphs.</p>

<h2>Section Properties and Assets</h2>

<p>By extending the core PageLines Section class you get access to a lot of tools, built right in to the section. </p>

<p>Specifically, there are a bunch of variables set up for you to access that give you information about the section (that you can then use in code).</p>

<p>A few examples of variables you&#39;ll have are below.</p>

<pre><code class="php">
class YourSectionClassName extends PageLinesSection {

    function section_persistent(){

        $url = $this-&gt;base_url; // the base url of the section
        $dir = $this-&gt;base_dir; // the base directory of the section
        $thumb = $this-&gt;screenshot;  // the section thumb
        $splash = $this-&gt;splash; // the section splash
    }

}

</code></pre>

<h2>Section Methods</h2>

<p>In the world of object oriented programming, they talk about something called &#39;methods.&#39; These are functions within and a class that give is some sort of functionality. </p>

<p>Sections use a bunch of methods to accomplish various things on a website. For example, there is a method for injecting things in the website header, or another one to add options to a section. </p>

<p>Let&#39;s walk through the various methods available to you, and how they work... </p>

<h2>section_persistent() Method</h2>

<p>This method is used to add code to a section that should ALWAYS be loaded. For example, if a section needs to add something to the admin or a new post type, use this method. </p>

<pre><code class="php">
class YourSectionClassName extends PageLinesSection {

    function section_persistent(){
        // Put code that should always be loaded here. 
    }

}

</code></pre>

<h2>section_template() Method</h2>

<p>This is the most common and critical method in the entire section system. It is the output that appears on the page, wherever the section is placed. </p>

<p>An example of this is as follows: </p>

<pre><code class="php">
class YourSectionClassName extends PageLinesSection {

    function section_template(){
        ?&gt;
        &lt;div class=&quot;example&quot;&gt;
            This output HTML would appear on the page wherever the user drops the section.
        &lt;/div&gt;
        &lt;?php
    }

}

</code></pre>

<h2>section_head() Method</h2>

<p>This method is used to add code and output that runs during the header portion of your website. This is often where javascript or metatags, etc... are put. </p>

<pre><code class="php">
class YourSectionClassName extends PageLinesSection {

    function section_head(){
        // This will out put in between your sites &lt;head&gt; tags. 
        // For example, adding javascript: 
        ?&gt;

        &lt;script&gt;
        jQuery(window).ready(function() {
            // Javascript could go here.
        });
        &lt;/script&gt;
        &lt;?php
    }

}

</code></pre>

<h4>prefix() Method</h4>

<p>As a note, we&#39;ve created a special &#39;prefix&#39; method that can be used to get a unique JS and CSS selector for the current section. This can be incredibly useful when you&#39;re trying to specifically target a section with JS. </p>

<pre><code class="php">$this-&gt;prefix // returns &gt; .section-yoursectionid[data-clone=&quot;######&quot;] &gt; which is a unique sitewide selector for your current section

</code></pre>

<h2>section_styles() Method</h2>

<p>This method is most commonly used to add/enqueue javascript and CSS libraries to pages when the section is loaded. </p>

<p>An example of this is as follows: </p>

<pre><code class="php">
class YourSectionClassName extends PageLinesSection {

    function section_styles(){

        // This will load the &#39;cooljavascript.js&#39; file from the current section folder
        wp_enqueue_script( &#39;my-js-plugin&#39;, $this-&gt;base_url.&#39;/cooljavascript.js&#39;, array( &#39;jquery&#39; ), PL_CORE_VERSION, true );
    }

}

</code></pre>

<h1>Dealing With Options</h1>

<p>For a more comprehensive overview of the options engine, read this article: <a href="/developer/dms-option-engine">DMS Option Engine <i class="icon-angle-right"></i></a>.</p>

<h2>section_opts() Method</h2>

<p>Options are added to sections primarily through the section_opts() method. This method simply returns an array that is used by the option engine to create your options. </p>

<p>An example would look like this:</p>

<pre><code class="php">
class YourSectionClassName extends PageLinesSection {

    function section_opts(){

        function section_opts(){
            $opts = array(
                array(
                    &#39;key&#39;           =&gt; &#39;the_option_key&#39;,
                    &#39;type&#39;          =&gt; &#39;select&#39;,
                    &#39;title&#39;         =&gt; &#39;Select Something&#39;,
                    &#39;label&#39;         =&gt; &#39;Select Somethign&#39;,
                    &#39;opts&#39;=&gt; array(
                        &#39;optvalue1&#39;     =&gt; array( &#39;name&#39; =&gt; &#39;Some Option Stuff&#39; ),
                        &#39;optvalue2&#39;     =&gt; array( &#39;name&#39; =&gt; &#39;Some Option Stuff&#39; )
                    )
                )

            );
            return $opts;
        }
    }
}


</code></pre>

<h2>The opt() Method</h2>

<p>To reduce the complexity created by various scopes and cloning in DMS; we&#39;ve created the ridiculously simple &#39;opt&#39; method. </p>

<p>This function simply takes the key of the option you&#39;d like the value for and returns that value. </p>

<pre><code class="php">
// The above option array in section_opts() would create a select option, with two options to select from. 
// The option value would be attainable via:
$opt_value = $this-&gt;opt(&#39;the_option_key&#39;);

</code></pre>
            </div>
		</section>

    </div><!-- /container -->
<div id="push"></div>
</div> <!-- /wrap -->
    <footer class="footer">
        <div class="container">
            <p class="pull-right"><a href="#">Back to top</a></p>
            <p>
				<i class="icon-github icon-2x"></i>
				Found errors? Think you can improve this documentation? <a href="https://github.com/pagelines/Docs/tree/master/developer/section-api.md" target="_blank">Edit this page</a>.</p>
        </div>
    </footer>

    
	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
    <script src="/js/google-code-prettify/prettify.js"></script>
	<script src="http://docs.pagelines.com/js/common.js"></script>
</body>
</html>

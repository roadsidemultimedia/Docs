<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PageLines Documentation</title>
    <meta name="description" content="A powerful front-end drag and drop design management system for fast and easy web development.">

    <base href="http://docs.pagelines.com/">

    <!-- styles -->
    <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
    <link href="/css/docs.css" rel="stylesheet">
    <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
    <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome-ie7.min.css" rel="stylesheet">
    <link href="/js/google-code-prettify/prettify.css" rel="stylesheet">
    <link rel='stylesheet' id='master_font_import' type='text/css' href='//fonts.googleapis.com/css?family=Open+Sans:400,300,600,800|Source+Sans+Pro:400,600' media='screen'>
    <link rel="shortcut icon" href="http://docs.pagelines.com/img/favicon.png" type="image/x-icon" />

    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

</head>
<body>
    <div id="wrap">
        <div class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                        <a class="brand" href="http://docs.pagelines.com/"><img src="http://docs.pagelines.com/img/logo.png" /></a> 
                    <div class="nav-collapse collapse">
                        <ul class="nav pull-right nav-detect">
                            <li><a href="/developer"><i class="icon-code"></i> Developer Docs</a></li>
                            <li><a href="http://www.pagelines.com"><i class="icon-home"></i> Home</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="container section">
            <section>
                <div class="row-fluid">
                    <div class="span3 docs-nav nav-detect">
                        <ul class="nav nav-list active-menu">
                            <li><p class="lead"><a href="/getting-started/system-requirements">Getting Started</a></p></li>
                            <li><a href="/getting-started/system-requirements">Requirements <i class="icon-angle-right"></i></a></li>
                            <li><a href="/getting-started/installation">Installation <i class="icon-angle-right"></i></a></li>
                            <li><a href="/getting-started/upgrading-migration">Upgrading & Migration <i class="icon-angle-right"></i></a></li>
                            <li><a href="/getting-started/dashboard-account">Dashboard & Your Account <i class="icon-angle-right"></i></a></li>
                        </ul>
                        <ul class="nav nav-list">
                            <li><p class="lead"><a href="/configure/visual-editor-overview">Configure</a></p></li>
                            <li><a href="/configure/visual-editor-overview">Visual Editor Overview <i class="icon-angle-right"></i></a></li>
                            <li><a href="/configure/configuring-sections">Sections Overview <i class="icon-angle-right"></i></a></li>
                            <li><a href="/configure/using-templates">Using Templates <i class="icon-angle-right"></i></a></li>
                            <li><a href="/configure/global-options">Using Global Options <i class="icon-angle-right"></i></a></li>
                            <li><a href="/configure/pagelines-store">PageLines Store <i class="icon-angle-right"></i></a></li>
                        </ul>
                        <ul class="nav nav-list">
                            <li><p class="lead"><a href="/customize/how-to-customize">Customize</a></p></li>
                            <li><a href="/customize/how-to-customize">How to Customize <i class="icon-angle-right"></i></a></li>
                            <li><a href="/customize/dms-customize-options">DMS Customize Options <i class="icon-angle-right"></i></a></li>
                            <li><a href="/customize/pagelines-customize-plugin">PageLines Customize Plugin <i class="icon-angle-right"></i></a></li>
                            <li><a href="/customize/base-child-theme">The Base Child Theme  <i class="icon-angle-right"></i></a></li>
                            <li><a href="/customize/store-child-themes">Store Child Themes <i class="icon-angle-right"></i></a></li>
                            <li><a href="/customize/overriding-default-css">Overriding Default CSS <i class="icon-angle-right"></i></a></li>
                            <li><a href="/customize/adding-less-css-support">Adding LESS CSS Support <i class="icon-angle-right"></i></a></li>
                            <li><a href="/customize/adding-custom-rtl-support">Adding Custom RTL Support <i class="icon-angle-right"></i></a></li>
                            <li><a href="/customize/adding-custom-scripts">Adding Custom Scripts <i class="icon-angle-right"></i></a></li>
                        </ul>
                        <ul class="nav nav-list">
                            <li><p class="lead"><a href="/advanced/hooks">Advanced</a></p></li>
                            <li><a href="/advanced/hooks">Hooks <i class="icon-angle-right"></i></a></li>
                            <li><a href="/advanced/less-css">LESS CSS <i class="icon-angle-right"></i></a></li>
                            <li><a href="/advanced/override-sections">Overriding Sections <i class="icon-angle-right"></i></a></li>
                            <li><a href="/advanced/custom-sidebars">Creating Custom Sidebars <i class="icon-angle-right"></i></a></li>
                            <li><a href="/advanced/translating-dms">Translating DMS <i class="icon-angle-right"></i></a></li>
                            <li><a href="/advanced/optimize-load-time">Optimize Load Time <i class="icon-angle-right"></i></a></li>
                        </ul>
                        <ul class="nav nav-list">
                            <li><p class="lead"><a href="/tutorials/using-sections">Tutorials</a></p></li>
                            <li><a href="/tutorials/using-sections">Using Sections <i class="icon-angle-right"></i></a></li>
                            <li><a href="/tutorials/using-scrollspy">Using ScrollSpy <i class="icon-angle-right"></i></a></li>
                            <li><a href="/tutorials/using-plugins">Using Plugins <i class="icon-angle-right"></i></a></li>
                            <li><a href="/tutorials/browser-specific-css">Browser Specific CSS <i class="icon-angle-right"></i></a></li>
                            <li><a href="/tutorials/responsive-grid">The Responsive Grid <i class="icon-angle-right"></i></a></li>
                            <li><a href="/tutorials/font-awesome">Font Awesome <i class="icon-angle-right"></i></a></li>
                            <li><a href="/tutorials/shortcodes">Shortcodes <i class="icon-angle-right"></i></a></li>
                            <li><a href="/tutorials/typography">Typography <i class="icon-angle-right"></i></a></li>
                            <li><a href="/tutorials/html-css-utilities">HTML/CSS Utilities <i class="icon-angle-right"></i></a></li>
                            <li><a href="/tutorials/adding-custom-menus">Adding Custom Menus <i class="icon-angle-right"></i></a></li>
                            <li><a href="/tutorials/adding-custom-fonts">Adding Custom Fonts <i class="icon-angle-right"></i></a></li>
                            <li><a href="/tutorials/section-area-styling">Section Area Styling <i class="icon-angle-right"></i></a></li>
                            <li><a href="/tutorials/creating-a-branding-area">Creating a Branding Area <i class="icon-angle-right"></i></a></li>
                            <li><a href="/tutorials/lockdown-visual-editor">Lockdown Visual Editor <i class="icon-angle-right"></i></a></li>
                        </ul>
                        <ul class="nav nav-list">
                            <li><p class="lead"><a href="/support-troubleshooting/getting-support">Support + Troubleshooting</a></p></li>
                            <li><a href="/support-troubleshooting/getting-support">Getting Support <i class="icon-angle-right"></i></a></li>
                            <li><a href="/support-troubleshooting/diagnosing">Diagnosing <i class="icon-angle-right"></i></a></li>
                            <li><a href="/support-troubleshooting/memory-allocation-error">Memory Allocation Error <i class="icon-angle-right"></i></a></li>
                            <li><a href="/support-troubleshooting/white-screen-of-death">White Screen of Death <i class="icon-angle-right"></i></a></li>
                            <li><a href="/support-troubleshooting/parse-error">Parse Error <i class="icon-angle-right"></i></a></li>
                            <li><a href="/support-troubleshooting/internal-server-error">Internal Server Error <i class="icon-angle-right"></i></a></li>
                        </ul>
		<ul class="nav nav-list">
                            <li><p class="lead"><a href="/developer/section-api">Development</a></p></li>
                            <li><a href="/developer/section-api">Building Sections <i class="icon-angle-right"></i></a></li>
                            <li><a href="/developer/dms-theming">DMS Theming <i class="icon-angle-right"></i></a></li>
                            <li><a href="/developer/dms-option-engine">DMS Option Engine <i class="icon-angle-right"></i></a></li>
                            <li><a href="/developer/dms-conditionals">DMS Conditional Statements <i class="icon-angle-right"></i></a></li>
                         
                        </ul>
                    </div>
                    <div class="span9 docs-content">
<h1>DMS Option Engine</h1>

<h2>About the Option Engine</h2>

<p>DMS offers a very straight forward way to create options for extensions, the option engine. </p>

<p>The option engine consists of a php array format that the system uses to parse and handle the options in a variety of ways. This allows us to abstract the complexities of option handling and give you a simple consistent code interface for adding your options. </p>

<h2>Adding Options To Sections</h2>

<p>Adding options to sections is as simple as returning the option array from the &#39;section_opts()&#39; method/function of the section class. </p>

<p>An example of that is as follows: </p>

<pre><code class="php">
// Standard Section Class Definition
class SomeSection extends PageLinesSection {

    // Section Options Method
    function section_opts(){
        $opts = array(
            array(
                &#39;type&#39;          =&gt; &#39;select&#39;,
                &#39;title&#39;         =&gt; &#39;Select Format&#39;,
                &#39;key&#39;           =&gt; &#39;icallout_format&#39;,
                &#39;label&#39;         =&gt; &#39;Callout Format&#39;,
                &#39;opts&#39;=&gt; array(
                    &#39;top&#39;           =&gt; array( &#39;name&#39; =&gt; &#39;Text on top of button&#39; ),
                    &#39;inline&#39;        =&gt; array( &#39;name&#39; =&gt; &#39;Text/Button Inline&#39; )
                ),
            )
        ); 

        return $opts;
    }

}
</code></pre>

<p>More info on this can be found in documentation on creating sections.</p>

<h2>Adding Options To Themes</h2>

<p>There are several ways to add options to themes. First themes rely on &#39;child section&#39; and in these sections you&#39;ll have options. For </p>

<h2>Basic Option Attributes</h2>

<p>The basic option format for simple option types like text fields is as follows. Different option types will have additional parameters you can set depending on your preference.</p>

<pre><code class="php">$opts = array(); 

// Select Type Option Format
$opts[] = array(
            &#39;key&#39;           =&gt; &#39;option_key&#39;, // (used to get the value of the option (e.g. $this-&gt;opt(&#39;some_key&#39;)))
            &#39;type&#39;          =&gt; &#39;text&#39;, // Option Type 
            &#39;title&#39;         =&gt; __(&#39;Super Cool Option&#39;, &#39;pagelines&#39;),    // (localized, &amp; same as &#39;label&#39; if omitted)
            &#39;label&#39;         =&gt; __(&#39;Select Cool Option&#39;, &#39;pagelines&#39;), // (localized)
            &#39;help&#39;          =&gt; __(&#39;Help text goes here. How nice of you!&#39;, &#39;pagelines&#39;), // (localized)
            &#39;ref&#39;           =&gt; __( &#39;This creates a help field with a toggle.&#39;, &#39;pagelines&#39; )
        );

</code></pre>

<h2>Getting and Using Option Values</h2>

<p>Getting and using option values in your sections and themes is EASY! Just use the following functions.. </p>

<pre><code class="php">
// INSIDE SECTIONS
// Getting option values inside of sections
$value = $this-&gt;opt(&#39;option_key&#39;); 

// note: the opt method keeps track of section ID and page scope

// For GLOBAL SETTINGS (Sitewide)
// For getting option values in the global settings
$value = pl_setting(&#39;option_key&#39;); 

// note: This option only works with settings in the global scope.

</code></pre>

<h1>Option Types</h1>

<h2>NOTE:</h2>

<p>For all option types below, basic option attributes are supported but not shown.</p>

<h2>&quot;Multi&quot; Option Type</h2>

<p>Its common and possible to want to nest a bunch of different options together. To do that, simply use the &#39;multi&#39; option type.</p>

<pre><code class="php">$opts[] = array(
            &#39;key&#39;           =&gt; &#39;some_key&#39;,
            &#39;type&#39;          =&gt; &#39;multi&#39;, 

            &#39;opts&#39;=&gt; array(
                array(
                    //...option 1 attributes
                ), 
                array(
                    //...option 2 attributes
                )
            ),
        );

</code></pre>

<h2>Basic Select Option Format</h2>

<p>Selection option types have to create an array of options for users. 
Therefore, they make use of an &#39;opts&#39; array with an index for each individual option.</p>

<pre><code class="php">$opts[] = array(
            &#39;key&#39;           =&gt; &#39;some_key&#39;,
            &#39;type&#39;          =&gt; &#39;select&#39;, 

            &#39;opts&#39;=&gt; array(
                &#39;val1&#39;          =&gt; array( &#39;name&#39; =&gt; &#39;Select Option Name&#39; ),
                &#39;val2&#39;          =&gt; array( &#39;name&#39; =&gt; &#39;Select Option Name&#39; )
            ),
        );

</code></pre>

<h3>Count Select Option Format</h3>

<p>This option type can be used to create an iterated number of options. This makes it so you dont have to enter these numbers manually. </p>

<pre><code class="php">$opts[] = array(
            &#39;key&#39;           =&gt; &#39;some_key&#39;,
            &#39;type&#39;          =&gt; &#39;count_select&#39;, 
            &#39;count_start&#39;   =&gt; 1,               // Starting Count Number
            &#39;count_number&#39;  =&gt; 100,             // Ending Count Number
            &#39;suffix&#39;        =&gt; &#39;%&#39;          // Added to the end of the value
        );

</code></pre>

<h3>Image Upload Options</h3>

<p>Image upload options are easy! Just use the following attributes... </p>

<pre><code class="php">$opts[] = array(
            &#39;key&#39;           =&gt; &#39;some_key&#39;,
            &#39;type&#39;          =&gt; &#39;image_upload&#39;,
            &#39;imgsize&#39;       =&gt; &#39;16&#39;,        // The image preview &#39;max&#39; size
            &#39;sizelimit&#39;     =&gt; &#39;512000&#39;     // Image upload max size default 512kb
        );

</code></pre>

<h3>Color Picker Options</h3>

<p>Color pickers are super simple. Just use the &#39;color&#39; type... </p>

<pre><code class="php">$opts[] = array(
            &#39;key&#39;           =&gt; &#39;some_key&#39;,
            &#39;type&#39;          =&gt; &#39;color&#39;, 
        );

</code></pre>

<h3>Text, Textareas and Checkboxes Options</h3>

<p>For text, checkboxes, and textarea options just use the &#39;text&#39;, &#39;check&#39; or &#39;textarea&#39; type respectively</p>

<pre><code class="php">$opts[] = array(
            &#39;key&#39;           =&gt; &#39;some_key&#39;,
            &#39;type&#39;          =&gt; &#39;text&#39;,  // or &quot;textarea&quot; or &quot;check&quot;
        );

</code></pre>

<h3>Select Menu Option</h3>

<p>To create an option that allows users to select a WordPress menu, use the &#39;select_menu&#39; option. 
This will return the ID of the selected menu as the value.</p>

<pre><code class="php">$opts[] = array(
            &#39;key&#39;           =&gt; &#39;some_key&#39;,
            &#39;type&#39;          =&gt; &#39;select_menu&#39;, 
        );

</code></pre>

<h3>Select Taxonomy</h3>

<p>To create an option that allows users to select a taxonomy (i.e. category) for a specific post type, just use these attributes:</p>

<pre><code class="php">$opts[] = array(
            &#39;key&#39;           =&gt; &#39;some_key&#39;,
            &#39;type&#39;          =&gt; &#39;select_taxonomy&#39;,
            &#39;post_type&#39;     =&gt; &#39;post&#39; // the post type to grab taxonomies from
        );

</code></pre>

<h3>Type/Font Selector</h3>

<p>The &#39;type&#39; option type will create a font selector for you.</p>

<pre><code class="php">$opts[] = array(
            &#39;key&#39;           =&gt; &#39;some_key&#39;,
            &#39;type&#39;          =&gt; &#39;type&#39;,
        );

</code></pre>

<h3>Icon Select</h3>

<p>Since PageLines comes with a robust icon font, we&#39;ve created a canned icon selector option type for you: &quot;select_icon&quot;.</p>

<pre><code class="php">$opts[] = array(
            &#39;key&#39;           =&gt; &#39;some_key&#39;,
            &#39;type&#39;          =&gt; &#39;select_icon&#39;,
        );

</code></pre>

<h3>Link Button</h3>

<p>If you want to just create a simple button with a link use the &#39;link&#39; option type.</p>

<pre><code class="php">$opts[] = array(
            &#39;key&#39;           =&gt; &#39;some_key&#39;,
            &#39;type&#39;          =&gt; &#39;link&#39;,
            &#39;url&#39;           =&gt; &#39;http://www.pagelines.com&#39;,
            &#39;classes&#39;       =&gt; &#39;button classes&#39;
        );

</code></pre>

<h3>Multiple Select Option</h3>

<p>If you want an option that allows users to select multiple values, this is the one you want. The type is &#39;select_multi&#39; and it returns an <em>array</em> of the values that the user has chosen. Handy!</p>

<pre><code class="php">$opts[] = array(
            &#39;key&#39;           =&gt; &#39;some_key&#39;,
            &#39;type&#39;          =&gt; &#39;select_multi&#39;, 
            &#39;opts&#39;=&gt; array(
                &#39;val1&#39;          =&gt; array( &#39;name&#39; =&gt; &#39;Select Option Name&#39; ),
                &#39;val2&#39;          =&gt; array( &#39;name&#39; =&gt; &#39;Select Option Name&#39; )
            ),
        );

// this will return an array of values  

</code></pre>

<h3>Button Color Select Option</h3>

<p>The easiest way to give users button color options is to use the &#39;select_button&#39; option. This returns the bootstrap class for the various button colors.</p>

<pre><code class="php">$opts[] = array(
            &#39;key&#39;           =&gt; &#39;some_key&#39;,
            &#39;type&#39;          =&gt; &#39;select_button&#39;, 
        );

// to use in html
$class = $this-&gt;opt(&#39;some_key&#39;);
// &lt;a class=&quot;btn &lt;?php echo $class;?&gt;&quot;&gt;Button Text&lt;/a&gt;
</code></pre>

<h3>Use a Custom Option Template</h3>

<p>It&#39;s possible to have an option that is simply a template you&#39;ve created in your extension. To do that simply set the &#39;template&#39; option type and the &#39;template&#39; option attribute. </p>

<pre><code class="php">
$my_template = &quot;&lt;div&gt;some HTML&lt;/div&gt;&quot;;

$opts[] = array(
            &#39;key&#39;           =&gt; &#39;some_key&#39;,
            &#39;type&#39;          =&gt; &#39;template&#39;,
            &#39;template&#39;      =&gt; $my_template
        );

</code></pre>

<h4>Adding custom inputs</h4>

<p>To add a custom option input to your template option, you simply have to set your input up with certain attributes. </p>

<p>To create an input that saves on blur/change add the &#39;lstn&#39; class. The name must be &#39;settings[whatever]&#39; and the value must be the pl_setting with the key. See below.</p>

<pre><code class="php">&lt;input type=&quot;text&quot; class=&quot;lstn&quot; name=&quot;settings[my_option_key]&quot; value=&quot;&lt;?php echo pl_setting(&#39;my_option_key&#39;);?&gt;&quot;/&gt;  
</code></pre>

<p>This could then be accessible sitewide with </p>

<pre><code class="php">$my_option = pl_setting(&#39;my_option_key&#39;);
</code></pre>

<p>For selects and checkboxes, you&#39;ll need to check the value then set the &#39;selected&#39; or &#39;checked&#39; attributes accordingly.</p>
            </div>
		</section>

    </div><!-- /container -->
<div id="push"></div>
</div> <!-- /wrap -->
    <footer class="footer">
        <div class="container">
            <p class="pull-right"><a href="#">Back to top</a></p>
            <p>
				<i class="icon-github icon-2x"></i>
				Found errors? Think you can improve this documentation? <a href="https://github.com/pagelines/Docs/tree/master/developer/dms-option-engine.md" target="_blank">Edit this page</a>.</p>
        </div>
    </footer>

    
	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
    <script src="/js/google-code-prettify/prettify.js"></script>
	<script src="http://docs.pagelines.com/js/common.js"></script>
</body>
</html>
